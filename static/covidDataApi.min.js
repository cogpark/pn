const triggerUpdate=document.querySelector('select[name="pick-state');async function getData(e,t){const n=await fetch(e+t);return await n.json()}window.addEventListener("DOMContentLoaded",e=>{getData("/api/covid/",triggerUpdate.value).then(e=>{const t=document.querySelector("#c19-entrypoint");t.innerHTML="";for(let[n,a]of Object.entries(e)){let e=document.createElement("li");e.appendChild(document.createTextNode(a)),t.appendChild(e)}document.querySelector(".to-update").innerText="How COVID-19 affects voting in "+triggerUpdate.value})}),triggerUpdate.addEventListener("change",e=>{getData("/api/covid/",e.target.value).then(t=>{const n=document.querySelector("#c19-entrypoint");n.innerHTML="";for(let[e,a]of Object.entries(t)){let e=document.createElement("li");e.appendChild(document.createTextNode(a)),n.appendChild(e)}document.querySelector(".to-update").innerText="How COVID-19 affects voting in "+e.target.value})});